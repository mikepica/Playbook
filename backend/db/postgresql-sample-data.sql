-- Sample Project Data for PostgreSQL/Neon Database
-- This script creates 2 projects with basic data across all tables
-- Run this after the main PostgreSQL migration to populate test data
-- UUIDs will be auto-generated by PostgreSQL

-- ============================================================================
-- 1. INSERT SAMPLE PROJECTS
-- ============================================================================

-- Insert Customer Portal Modernization project
WITH portal_project AS (
    INSERT INTO projects (
        project_name,
        project_code,
        description,
        business_area,
        sponsor,
        project_manager,
        planned_start_date,
        planned_end_date,
        status,
        phase,
        priority,
        approved_budget,
        currency,
        overall_health,
        risk_level,
        is_active,
        display_order,
        tags,
        custom_fields,
        created_by,
        updated_by
    ) VALUES (
        'Customer Portal Modernization',
        'CPM-2024-001',
        'Modernize the existing customer portal to improve user experience and system performance',
        'Information Technology',
        'Sarah Johnson, CTO',
        'Mike Chen, Senior PM',
        '2024-01-15',
        '2024-08-30',
        'execution',
        'implementation',
        'high',
        750000.00,
        'USD',
        'green',
        'medium',
        true,
        1,
        '{"technology": ["web", "mobile"], "priority": "customer-facing"}',
        '{"budget_source": "IT Capex", "external_vendor": "TechCorp Solutions"}',
        'admin',
        'mike.chen@company.com'
    ) RETURNING id
),
-- Insert business case for portal project
portal_business_case AS (
    INSERT INTO business_cases (
        project_id,
        version,
        title,
        business_area,
        strategic_alignment,
        business_driver,
        urgency,
        proposed_start_date,
        proposed_end_date,
        estimated_duration_months,
        sponsor,
        approvals,
        project_description,
        background,
        objectives,
        deliverables,
        scope_in,
        scope_out,
        interdependencies,
        key_assumptions,
        constraints,
        risks,
        opportunities,
        costs,
        benefits,
        roi_percentage,
        npv_value,
        payback_period_months,
        financial_assumptions,
        options_considered,
        recommended_option,
        recommendation_rationale,
        success_criteria,
        status,
        approval_level,
        approved_date,
        approved_by,
        is_current_version,
        created_by,
        updated_by
    ) SELECT
        portal_project.id,
        '1.0',
        'Customer Portal Modernization Business Case',
        'Information Technology',
        'Supports digital transformation strategy and improves customer satisfaction scores',
        'competitive',
        'high',
        '2024-01-15',
        '2024-08-30',
        7,
        'Sarah Johnson, CTO',
        '[{"approver": "Sarah Johnson", "role": "CTO", "date": "2023-12-15", "status": "approved", "comments": "Approved with full budget allocation"}]',
        'Modernize customer-facing portal to improve user experience, reduce support costs, and increase customer retention',
        '[{"point": "Current portal has 65% user satisfaction", "detail": "Based on Q3 2023 customer survey"}, {"point": "System built on legacy technology", "detail": "Platform is 8 years old with increasing maintenance costs"}]',
        '[{"objective": "Increase user satisfaction to 90%", "measurable_outcome": "Customer survey scores", "timeline": "6 months post-launch"}, {"objective": "Reduce support tickets by 40%", "measurable_outcome": "Support system metrics", "timeline": "3 months post-launch"}]',
        '[{"deliverable": "New responsive web portal", "description": "Mobile-first design with modern UI/UX", "success_criteria": "Passes UAT and accessibility standards"}, {"deliverable": "Mobile application", "description": "Native iOS and Android apps", "success_criteria": "App store approval and 4+ star rating"}]',
        '["Web portal development", "Mobile app development", "User authentication system", "Payment processing integration", "Customer data migration"]',
        '["Internal employee portal", "Administrative back-office functions", "Legacy system decommissioning"]',
        '[{"project_name": "Payment System Upgrade", "relationship_type": "dependency", "impact": "Must complete before portal launch"}]',
        '[{"assumption": "Customer adoption rate of 70% within 6 months", "risk_if_wrong": "Lower ROI than projected", "validation_method": "Pilot testing with select customers"}]',
        '[{"constraint_type": "budget", "description": "Fixed budget of $750K", "mitigation": "Phased delivery approach"}, {"constraint_type": "timeline", "description": "Must launch before holiday season", "mitigation": "Agile development methodology"}]',
        '[{"risk": "Low user adoption", "likelihood": "medium", "impact": "high", "mitigation": "Comprehensive change management and training program"}]',
        '[{"opportunity": "Upsell premium features", "likelihood": "high", "value": "Additional $200K annual revenue", "actions": "Design premium tier functionality"}]',
        '{"one_time": {"capex": 750000, "implementation": 150000}, "operational": {"annual_opex": 85000}}',
        '{"financial": {"revenue": 300000, "cost_savings": 180000}, "non_financial": ["Improved customer satisfaction", "Enhanced brand perception", "Reduced support burden"]}',
        32.50,
        450000.00,
        18,
        '[{"assumption": "5% annual revenue growth", "value": "Historical average", "source": "Finance Department"}]',
        '[{"option": "Full rebuild", "pros": "Latest technology, optimal performance", "cons": "Higher cost, longer timeline", "cost_estimate": 750000}, {"option": "Incremental updates", "pros": "Lower cost, faster delivery", "cons": "Limited improvement, technical debt", "cost_estimate": 300000}]',
        'Full rebuild',
        'Full rebuild provides best long-term value and aligns with digital transformation strategy',
        '[{"criteria": "User satisfaction > 90%", "measure": "Monthly customer surveys", "target": "90% satisfied or very satisfied"}, {"criteria": "System uptime > 99.5%", "measure": "System monitoring", "target": "99.5% uptime monthly"}]',
        'approved',
        'executive',
        '2023-12-15 10:30:00+00',
        'Sarah Johnson, CTO',
        true,
        'admin',
        'mike.chen@company.com'
    FROM portal_project
    RETURNING id
)
-- Insert project charter for portal project
INSERT INTO project_charters (
    project_id,
    business_case_id,
    version,
    title,
    charter_date,
    sign_off_date,
    effective_date,
    sponsor,
    project_manager,
    steering_committee,
    governance_structure,
    project_team,
    key_stakeholders,
    business_case_summary,
    strategic_alignment,
    business_benefits,
    success_criteria,
    project_objectives,
    scope_deliverables,
    scope_exclusions,
    assumptions,
    constraints,
    resource_requirements,
    budget_authority,
    budget_tolerance,
    key_dates_milestones,
    schedule_tolerance,
    threats_opportunities,
    risk_tolerance,
    decision_authority,
    change_control_process,
    reporting_requirements,
    quality_standards,
    acceptance_criteria,
    status,
    approval_level,
    approved_date,
    approved_by,
    is_current_version,
    created_by,
    updated_by
) SELECT
    portal_project.id,
    portal_business_case.id,
    '1.0',
    'Customer Portal Modernization Project Charter',
    '2024-01-02',
    '2024-01-15',
    '2024-01-15',
    'Sarah Johnson, CTO',
    'Mike Chen, Senior PM',
    '[{"name": "Sarah Johnson", "role": "Executive Sponsor", "authority": "Budget approval up to $750K"}, {"name": "Mark Stevens", "role": "IT Director", "authority": "Technical decisions"}, {"name": "Jennifer Liu", "role": "Customer Experience Director", "authority": "UX/UI approval"}]',
    'Weekly steering committee meetings with escalation path to CTO for issues > $50K impact',
    '[{"name": "Mike Chen", "role": "Project Manager", "skills": "PMP, Agile", "allocation_%": 100}, {"name": "Alex Thompson", "role": "Lead Developer", "skills": "React, Node.js", "allocation_%": 80}, {"name": "Maria Garcia", "role": "UX Designer", "skills": "Design, Prototyping", "allocation_%": 60}]',
    '[{"name/group": "Customer Service Team", "interest": "high", "influence": "medium", "communication_req": "Weekly updates on portal features"}, {"name/group": "Marketing Department", "interest": "medium", "influence": "low", "communication_req": "Monthly progress reports"}]',
    'Modernize customer portal to improve satisfaction from 65% to 90% while reducing support costs by 40%',
    'Critical component of digital transformation strategy, directly supporting customer-centric initiatives',
    '[{"benefit": "Increased customer satisfaction", "measure": "NPS score", "timeline": "6 months post-launch", "owner": "Customer Experience"}]',
    '[{"criteria": "User satisfaction > 90%", "measure": "Customer surveys", "target": "90%", "measurement_method": "Monthly NPS surveys"}]',
    'Deliver a modern, responsive customer portal with mobile applications that improves user experience and reduces operational costs',
    '[{"deliverable": "Responsive web portal", "description": "Mobile-first customer portal", "acceptance_criteria": "Passes UAT, meets accessibility standards, <3 second load time"}]',
    '["Employee portal updates", "Legacy system retirement", "Training materials for customer service"]',
    '[{"assumption": "Customer adoption rate 70%", "impact_if_wrong": "Lower ROI", "validation_method": "Beta testing with 100 customers"}]',
    '[{"constraint_type": "budget", "description": "$750K fixed budget", "impact": "Requires phased delivery approach"}]',
    '{"human": {"fte_req": 8, "skills": "React, Node.js, UX Design, QA"}, "financial": {"budget": 750000}, "other": ["Development environments", "Testing devices"]}',
    750000.00,
    5.00,
    '[{"milestone": "Design Approval", "date": "2024-03-15", "description": "UX/UI designs approved by stakeholders", "dependencies": "User research completed"}]',
    7,
    '[{"type": "threat", "description": "Low user adoption", "likelihood": "medium", "impact": "high", "response": "Comprehensive change management program"}]',
    'medium',
    '[{"decision_type": "Technical architecture", "authority_level": "IT Director", "approver": "Mark Stevens"}]',
    'All scope changes > $25K or 2 weeks schedule impact require steering committee approval',
    '[{"report_type": "Status Report", "frequency": "weekly", "audience": "Steering Committee"}]',
    '["WCAG 2.1 AA accessibility", "SOC 2 security standards", "Mobile responsive design standards"]',
    'Portal achieves 90% user satisfaction, meets all quality standards, and is delivered within budget and timeline',
    'approved',
    'sponsor',
    '2024-01-15 09:00:00+00',
    'Sarah Johnson, CTO',
    true,
    'admin',
    'mike.chen@company.com'
FROM portal_project, portal_business_case;

-- ============================================================================
-- 2. INSERT SUPPLY CHAIN PROJECT AND RELATED DATA
-- ============================================================================

-- Insert Supply Chain Optimization project
WITH supply_project AS (
    INSERT INTO projects (
        project_name,
        project_code,
        description,
        business_area,
        sponsor,
        project_manager,
        planned_start_date,
        planned_end_date,
        status,
        phase,
        priority,
        approved_budget,
        currency,
        overall_health,
        risk_level,
        is_active,
        display_order,
        tags,
        custom_fields,
        created_by,
        updated_by
    ) VALUES (
        'Supply Chain Optimization',
        'SCO-2024-002',
        'Optimize supply chain processes to reduce costs and improve delivery times',
        'Operations',
        'David Rodriguez, COO',
        'Lisa Park, Project Manager',
        '2024-03-01',
        '2024-12-15',
        'planning',
        'development',
        'critical',
        1200000.00,
        'USD',
        'amber',
        'high',
        true,
        2,
        '{"domain": ["logistics", "procurement"], "impact": "cost-reduction"}',
        '{"regulatory_impact": "medium", "vendor_count": 12}',
        'admin',
        'lisa.park@company.com'
    ) RETURNING id
),
-- Insert business case for supply chain project
supply_business_case AS (
    INSERT INTO business_cases (
        project_id,
        version,
        title,
        business_area,
        strategic_alignment,
        business_driver,
        urgency,
        proposed_start_date,
        proposed_end_date,
        estimated_duration_months,
        sponsor,
        approvals,
        project_description,
        background,
        objectives,
        deliverables,
        scope_in,
        scope_out,
        interdependencies,
        key_assumptions,
        constraints,
        risks,
        opportunities,
        costs,
        benefits,
        roi_percentage,
        npv_value,
        payback_period_months,
        financial_assumptions,
        options_considered,
        recommended_option,
        recommendation_rationale,
        success_criteria,
        status,
        approval_level,
        approved_date,
        approved_by,
        is_current_version,
        created_by,
        updated_by
    ) SELECT
        supply_project.id,
        '1.0',
        'Supply Chain Optimization Business Case',
        'Operations',
        'Directly supports operational excellence and cost reduction strategic pillars',
        'regulatory',
        'critical',
        '2024-03-01',
        '2024-12-15',
        10,
        'David Rodriguez, COO',
        '[{"approver": "David Rodriguez", "role": "COO", "date": "2024-01-20", "status": "approved", "comments": "Critical for Q4 cost targets"}]',
        'Optimize end-to-end supply chain to reduce costs, improve delivery times, and enhance supplier relationships',
        '[{"point": "Current supply chain costs 15% above industry average", "detail": "Benchmarking study completed Q4 2023"}, {"point": "Delivery delays increasing customer complaints", "detail": "32% increase in delivery-related complaints in 2023"}]',
        '[{"objective": "Reduce supply chain costs by 12%", "measurable_outcome": "Total cost of goods sold", "timeline": "12 months"}, {"objective": "Improve on-time delivery to 95%", "measurable_outcome": "Delivery performance metrics", "timeline": "6 months"}]',
        '[{"deliverable": "Optimized supplier network", "description": "Consolidated vendor base with improved contracts", "success_criteria": "15% cost reduction with maintained quality"}, {"deliverable": "Automated procurement system", "description": "Digital procurement platform", "success_criteria": "50% reduction in manual processing time"}]',
        '["Supplier evaluation and consolidation", "Procurement process automation", "Inventory optimization", "Logistics route optimization", "Performance monitoring dashboard"]',
        '["Manufacturing process changes", "Product design modifications", "Customer-facing delivery changes"]',
        '[{"project_name": "ERP System Upgrade", "relationship_type": "enabler", "impact": "Required for data integration"}]',
        '[{"assumption": "Supplier cooperation with new requirements", "risk_if_wrong": "Implementation delays", "validation_method": "Supplier workshops and agreements"}]',
        '[{"constraint_type": "regulatory", "description": "Must maintain FDA compliance", "mitigation": "Qualified supplier validation process"}]',
        '[{"risk": "Supplier resistance to changes", "likelihood": "medium", "impact": "medium", "mitigation": "Early engagement and incentive alignment"}]',
        '[{"opportunity": "Volume discounts from consolidation", "likelihood": "high", "value": "Additional 5% cost savings", "actions": "Negotiate volume-based pricing tiers"}]',
        '{"one_time": {"capex": 1200000, "implementation": 300000}, "operational": {"annual_opex": 150000}}',
        '{"financial": {"cost_savings": 1800000}, "non_financial": ["Improved supplier relationships", "Enhanced operational resilience", "Better compliance management"]}',
        45.30,
        2100000.00,
        12,
        '[{"assumption": "Inflation rate 3% annually", "value": "Federal Reserve projection", "source": "Economic forecasts"}]',
        '[{"option": "Full optimization", "pros": "Maximum benefits, comprehensive solution", "cons": "Higher investment, complex implementation", "cost_estimate": 1200000}, {"option": "Pilot approach", "pros": "Lower risk, proof of concept", "cons": "Limited initial benefits", "cost_estimate": 400000}]',
        'Full optimization',
        'Full optimization approach delivers maximum ROI and positions company for long-term competitive advantage',
        '[{"criteria": "Cost reduction of 12%", "measure": "Monthly financial reports", "target": "12% reduction in supply chain costs"}, {"criteria": "Delivery performance 95%", "measure": "Logistics KPIs", "target": "95% on-time delivery rate"}]',
        'approved',
        'executive',
        '2024-01-20 14:15:00+00',
        'David Rodriguez, COO',
        true,
        'admin',
        'lisa.park@company.com'
    FROM supply_project
    RETURNING id
)
-- Insert project charter for supply chain project
INSERT INTO project_charters (
    project_id,
    business_case_id,
    version,
    title,
    charter_date,
    sign_off_date,
    effective_date,
    sponsor,
    project_manager,
    steering_committee,
    governance_structure,
    project_team,
    key_stakeholders,
    business_case_summary,
    strategic_alignment,
    business_benefits,
    success_criteria,
    project_objectives,
    scope_deliverables,
    scope_exclusions,
    assumptions,
    constraints,
    resource_requirements,
    budget_authority,
    budget_tolerance,
    key_dates_milestones,
    schedule_tolerance,
    threats_opportunities,
    risk_tolerance,
    decision_authority,
    change_control_process,
    reporting_requirements,
    quality_standards,
    acceptance_criteria,
    status,
    approval_level,
    approved_date,
    approved_by,
    is_current_version,
    created_by,
    updated_by
) SELECT
    supply_project.id,
    supply_business_case.id,
    '1.0',
    'Supply Chain Optimization Project Charter',
    '2024-02-01',
    '2024-02-15',
    '2024-03-01',
    'David Rodriguez, COO',
    'Lisa Park, Project Manager',
    '[{"name": "David Rodriguez", "role": "Executive Sponsor", "authority": "Budget approval up to $1.2M"}, {"name": "Robert Kim", "role": "Supply Chain Director", "authority": "Supplier decisions"}, {"name": "Amanda Foster", "role": "Finance Director", "authority": "Cost analysis approval"}]',
    'Bi-weekly steering committee with monthly executive reviews and quarterly board updates',
    '[{"name": "Lisa Park", "role": "Project Manager", "skills": "PMP, Lean Six Sigma", "allocation_%": 100}, {"name": "Carlos Mendez", "role": "Supply Chain Analyst", "skills": "Data Analysis, Procurement", "allocation_%": 75}, {"name": "Rachel Wong", "role": "Process Improvement Specialist", "skills": "Lean, Process Mapping", "allocation_%": 50}]',
    '[{"name/group": "Procurement Team", "interest": "high", "influence": "high", "communication_req": "Daily during implementation phases"}, {"name/group": "Warehouse Operations", "interest": "high", "influence": "medium", "communication_req": "Weekly operational updates"}]',
    'Optimize supply chain to achieve 12% cost reduction and 95% on-time delivery through supplier consolidation and process automation',
    'Core initiative supporting operational excellence and competitive cost structure objectives',
    '[{"benefit": "12% cost reduction", "measure": "Total supply chain costs", "timeline": "12 months", "owner": "Supply Chain Director"}]',
    '[{"criteria": "Cost reduction 12%", "measure": "Monthly cost reports", "target": "12% reduction", "measurement_method": "Financial variance analysis"}]',
    'Transform supply chain operations through supplier optimization, process automation, and performance monitoring to achieve world-class efficiency',
    '[{"deliverable": "Optimized supplier network", "description": "Consolidated and optimized supplier base", "acceptance_criteria": "15% cost reduction while maintaining quality standards"}]',
    '["Manufacturing process changes", "Product specification modifications", "Customer delivery commitment changes"]',
    '[{"assumption": "Supplier willingness to collaborate", "impact_if_wrong": "Implementation delays", "validation_method": "Supplier partnership agreements"}]',
    '[{"constraint_type": "regulatory", "description": "FDA compliance requirements", "impact": "Limits supplier selection options"}]',
    '{"human": {"fte_req": 12, "skills": "Supply Chain, Data Analysis, Process Improvement"}, "financial": {"budget": 1200000}, "other": ["ERP system access", "Supplier evaluation tools"]}',
    1200000.00,
    8.00,
    '[{"milestone": "Supplier Assessment Complete", "date": "2024-05-31", "description": "All suppliers evaluated and categorized", "dependencies": "Assessment criteria finalized"}]',
    14,
    '[{"type": "threat", "description": "Supplier consolidation resistance", "likelihood": "medium", "impact": "medium", "response": "Incentive alignment and partnership approach"}]',
    'medium',
    '[{"decision_type": "Supplier selection", "authority_level": "Supply Chain Director", "approver": "Robert Kim"}]',
    'Changes affecting supplier relationships or >$100K impact require COO approval',
    '[{"report_type": "Executive Dashboard", "frequency": "monthly", "audience": "Executive Team"}]',
    '["ISO 9001 quality standards", "FDA compliance requirements", "Supplier code of conduct"]',
    'Achieves 12% cost reduction, 95% on-time delivery, and maintains quality standards while enhancing supplier relationships',
    'approved',
    'executive',
    '2024-02-15 11:30:00+00',
    'David Rodriguez, COO',
    true,
    'admin',
    'lisa.park@company.com'
FROM supply_project, supply_business_case;

-- ============================================================================
-- 3. INSERT SUPPORTING DATA (DOCUMENTS, STAKEHOLDERS, STATUS REPORTS, RISKS)
-- ============================================================================

-- Get project IDs for inserting supporting data
INSERT INTO project_documents (
    project_id,
    document_type,
    document_subtype,
    title,
    description,
    content,
    version,
    status,
    visibility,
    created_by,
    updated_by
)
SELECT
    p.id,
    'project_plan',
    'master_schedule',
    'Customer Portal Development Schedule',
    'Master project schedule with key milestones and dependencies',
    '{"phases": [{"name": "Discovery", "start": "2024-01-15", "end": "2024-02-15", "deliverables": ["Requirements document", "Technical architecture"]}, {"name": "Development", "start": "2024-02-16", "end": "2024-06-30", "deliverables": ["Web portal", "Mobile apps"]}, {"name": "Testing", "start": "2024-07-01", "end": "2024-08-15", "deliverables": ["UAT completion", "Performance testing"]}, {"name": "Deployment", "start": "2024-08-16", "end": "2024-08-30", "deliverables": ["Production deployment", "Go-live"]}]}',
    '1.0',
    'approved',
    'team',
    'mike.chen@company.com',
    'mike.chen@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    'risk_register',
    'risk_assessment',
    'Supply Chain Optimization Risk Register',
    'Comprehensive risk assessment and mitigation strategies',
    '{"risks": [{"id": "R001", "title": "Supplier consolidation resistance", "probability": "medium", "impact": "high", "mitigation": "Early stakeholder engagement", "owner": "Carlos Mendez", "status": "active"}, {"id": "R002", "title": "Regulatory compliance delays", "probability": "low", "impact": "high", "mitigation": "Parallel compliance review process", "owner": "Lisa Park", "status": "monitoring"}]}',
    '1.0',
    'approved',
    'stakeholder',
    'lisa.park@company.com',
    'lisa.park@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002';

-- Insert stakeholders
INSERT INTO project_stakeholders (
    project_id,
    stakeholder_type,
    name,
    title_role,
    organization,
    department,
    email,
    phone,
    interest_level,
    influence_level,
    attitude,
    engagement_strategy,
    communication_frequency,
    preferred_communication_method,
    key_requirements,
    relationship_owner,
    is_active,
    created_by,
    updated_by
)
SELECT
    p.id,
    'individual',
    'Jennifer Liu',
    'Customer Experience Director',
    'Company Corp',
    'Customer Experience',
    'jennifer.liu@company.com',
    '+1-555-0123',
    'high',
    'high',
    'champion',
    'Regular involvement in design reviews and user testing coordination',
    'weekly',
    'meeting',
    '[{"requirement": "User satisfaction metrics improvement", "priority": "high", "status": "active"}]',
    'Mike Chen',
    true,
    'mike.chen@company.com',
    'mike.chen@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    'group',
    'Customer Service Team',
    'End Users',
    'Company Corp',
    'Customer Service',
    'customerservice@company.com',
    '+1-555-0124',
    'high',
    'medium',
    'supporter',
    'Training and feedback sessions to ensure smooth transition',
    'biweekly',
    'email',
    '[{"requirement": "Minimal disruption to daily operations", "priority": "high", "status": "active"}]',
    'Mike Chen',
    true,
    'mike.chen@company.com',
    'mike.chen@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    'individual',
    'Robert Kim',
    'Supply Chain Director',
    'Company Corp',
    'Operations',
    'robert.kim@company.com',
    '+1-555-0125',
    'critical',
    'critical',
    'champion',
    'Direct involvement in supplier selection and process design',
    'daily',
    'meeting',
    '[{"requirement": "Maintain supplier relationships", "priority": "critical", "status": "active"}]',
    'Lisa Park',
    true,
    'lisa.park@company.com',
    'lisa.park@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002'

UNION ALL

SELECT
    p.id,
    'group',
    'Procurement Team',
    'Process Owners',
    'Company Corp',
    'Procurement',
    'procurement@company.com',
    '+1-555-0126',
    'high',
    'high',
    'neutral',
    'Change management support and process training',
    'weekly',
    'email',
    '[{"requirement": "System training and support", "priority": "high", "status": "active"}]',
    'Lisa Park',
    true,
    'lisa.park@company.com',
    'lisa.park@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002';

-- Insert status reports
INSERT INTO project_status_reports (
    project_id,
    report_period_start,
    report_period_end,
    report_date,
    report_type,
    overall_status,
    schedule_status,
    budget_status,
    scope_status,
    quality_status,
    progress_summary,
    accomplishments,
    upcoming_activities,
    completion_percentage,
    budget_spent,
    schedule_variance_days,
    current_issues,
    milestones_achieved,
    upcoming_milestones,
    submitted_by,
    status,
    created_by,
    updated_by
)
SELECT
    p.id,
    '2024-02-01',
    '2024-02-29',
    '2024-03-01',
    'status_update',
    'green',
    'green',
    'green',
    'green',
    'green',
    'Project is on track with requirements gathering and technical architecture definition completed ahead of schedule',
    '["Requirements document finalized and approved", "Technical architecture design completed", "Development team onboarded and trained"]',
    '["Begin UI/UX design phase", "Set up development environments", "Conduct user research interviews"]',
    25.50,
    125000.00,
    -3,
    '[]',
    '[{"milestone": "Requirements Approval", "planned_date": "2024-02-15", "actual_date": "2024-02-12"}]',
    '[{"milestone": "Design Approval", "planned_date": "2024-03-15", "confidence": "high"}]',
    'Mike Chen',
    'approved',
    'mike.chen@company.com',
    'mike.chen@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    '2024-03-01',
    '2024-03-31',
    '2024-04-01',
    'status_update',
    'amber',
    'amber',
    'green',
    'green',
    'green',
    'Project experiencing minor delays in supplier assessment due to complex evaluation criteria, but within acceptable tolerance',
    '["Supplier evaluation criteria finalized", "Assessment methodology approved", "Initial supplier data collection begun"]',
    '["Complete supplier assessments", "Begin consolidation analysis", "Develop implementation roadmap"]',
    15.75,
    180000.00,
    5,
    '[{"issue": "Delayed supplier responses", "priority": "medium", "owner": "Carlos Mendez", "due_date": "2024-04-15", "status": "active"}]',
    '[{"milestone": "Assessment Criteria Approval", "planned_date": "2024-03-15", "actual_date": "2024-03-18"}]',
    '[{"milestone": "Supplier Assessment Complete", "planned_date": "2024-05-31", "confidence": "medium"}]',
    'Lisa Park',
    'approved',
    'lisa.park@company.com',
    'lisa.park@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002';

-- Insert project risks
INSERT INTO project_risks (
    project_id,
    risk_category,
    risk_title,
    risk_description,
    risk_source,
    likelihood,
    impact,
    risk_score,
    impact_areas,
    risk_strategy,
    mitigation_plan,
    contingency_plan,
    risk_owner,
    identified_date,
    target_closure_date,
    risk_status,
    monitoring_frequency,
    last_review_date,
    next_review_date,
    is_active,
    created_by,
    updated_by
)
SELECT
    p.id,
    'technical',
    'Integration Complexity',
    'Complexity of integrating new portal with existing backend systems may cause delays',
    'Technical architecture review',
    'medium',
    'medium',
    12.5,
    '["Schedule", "Quality"]',
    'mitigate',
    'Conduct proof of concept integration early in development phase',
    'Allocate additional development resources if integration issues arise',
    'Alex Thompson',
    '2024-01-20',
    '2024-04-30',
    'monitored',
    'weekly',
    '2024-02-28',
    '2024-03-07',
    true,
    'mike.chen@company.com',
    'alex.thompson@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    'external',
    'Low User Adoption',
    'Customers may be resistant to change and slow to adopt the new portal interface',
    'Stakeholder feedback sessions',
    'medium',
    'high',
    17.5,
    '["Benefits Realization", "Customer Satisfaction"]',
    'mitigate',
    'Implement comprehensive change management program with user training and support',
    'Maintain old portal in parallel for 6 months to allow gradual transition',
    'Jennifer Liu',
    '2024-01-25',
    '2024-12-31',
    'active',
    'monthly',
    '2024-02-25',
    '2024-03-25',
    true,
    'mike.chen@company.com',
    'jennifer.liu@company.com'
FROM projects p WHERE p.project_code = 'CPM-2024-001'

UNION ALL

SELECT
    p.id,
    'external',
    'Supplier Consolidation Resistance',
    'Key suppliers may resist consolidation efforts or demand unfavorable contract terms',
    'Supplier relationship assessment',
    'medium',
    'high',
    17.5,
    '["Cost Savings", "Timeline", "Supplier Relationships"]',
    'mitigate',
    'Early engagement with suppliers and development of mutually beneficial partnership agreements',
    'Identify alternative suppliers and maintain dual sourcing for critical components',
    'Robert Kim',
    '2024-02-10',
    '2024-08-31',
    'active',
    'biweekly',
    '2024-03-20',
    '2024-04-03',
    true,
    'lisa.park@company.com',
    'robert.kim@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002'

UNION ALL

SELECT
    p.id,
    'regulatory',
    'Compliance Validation Delays',
    'FDA compliance validation for new suppliers may take longer than anticipated',
    'Regulatory review meeting',
    'low',
    'high',
    12.5,
    '["Timeline", "Compliance"]',
    'mitigate',
    'Begin compliance validation process early and maintain parallel tracks for multiple suppliers',
    'Engage FDA liaison and consider expedited review process if needed',
    'Lisa Park',
    '2024-02-15',
    '2024-07-31',
    'identified',
    'monthly',
    '2024-03-15',
    '2024-04-15',
    true,
    'lisa.park@company.com',
    'lisa.park@company.com'
FROM projects p WHERE p.project_code = 'SCO-2024-002';

-- ============================================================================
-- SAMPLE DATA INSERTION COMPLETE (PostgreSQL Auto-Generated UUIDs)
-- ============================================================================

-- Summary of inserted data:
-- • 2 Projects: Customer Portal Modernization & Supply Chain Optimization
-- • 2 Business Cases: With detailed financial analysis and approval workflow
-- • 2 Project Charters: Formal authorization with governance structure
-- • 2 Project Documents: Master schedule and risk register
-- • 4 Project Stakeholders: Key individuals and groups for both projects
-- • 2 Status Reports: Monthly progress updates with metrics
-- • 4 Project Risks: Technical, external, and regulatory risks with mitigation plans
--
-- All UUIDs are auto-generated by PostgreSQL and foreign key relationships are maintained
-- All data is PostgreSQL/Neon compatible with proper JSONB formatting and timestamps